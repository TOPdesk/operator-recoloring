<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="description" content="Adjust the colours of the TOPdesk operator’s section with the Stylus extension">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Bree+Serif&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
  <title>TOPdesk operator recoloring</title>
  <link rel="stylesheet" href="index.css">
  <script src="index.js" defer></script>
</head>
<body>
  <a href="https://raw.githubusercontent.com/TOPdesk/operator-recoloring/master/public/topdesk-operator-recoloring.user.css">
    <img alt="Install directly with Stylus" src="https://img.shields.io/badge/Install%20directly%20with-Stylus-00adad.svg">
  </a>
  <main>
    <h1>Custom colours for operators</h1>
    <p>
      Adjust the colours of the TOPdesk operator’s section, for example to alleviate visual difficulties such as dyslexia or contrast sensitivity, or to create a ‘night mode’ style.
      You can override the standard TOPdesk colours as set by your company with <a href="https://add0n.com/stylus.html">the Stylus browser extension</a>, to improve your reading experience.
      Stylus is a userstyles editor and manager.
      It injects a CSS design into webpages in order to override the present design of TOPdesk.
      The Stylus extension is available for Chrome and Firefox.
    </p>
    <img
      class="example" 
      src="static/recoloring example.png"
      alt="TOPdesk recolored with the default settings"
      width="1300"
      height="1080"
      loading="lazy"
    >
    <p>
      The TOPdesk style to be used with Stylus was created primarily to be functional.
      Its design does not aim to be pretty, but instead focuses on aiding users with visual impairments.
      It does not cover the entire TOPdesk design.
      For example, some TOPdesk buttons use circular icons with a white background.
      With recoloring, these icons would just turn into a solid circle.
      Therefore these types of icons are left as is.
    </p>
    <p>
      To change the colours of the TOPdesk operator’s section: install Stylus, and enable the TOPdesk setting <strong>Support custom colours</strong>.
    </p>
    <section aria-labelledby="installation-and-settings">
      <h2 id="installation-and-settings">Installation and settings</h2>
      <p>
        <ol>
          <li>In the TOPdesk operator’s section, go to <strong>My settings</strong> <img src="static/user settings.png" alt="my settings icon" width="39" height="32"> in the upper righthand corner.</li>
          <li>
            In the <strong>Accessibility</strong> block, tick <strong>Support custom colours</strong>.
            <img
              class="use-step shadow"
              src="static/topdesk accessibility settings.png" 
              alt="The Accessibility group in the TOPdesk user settings"
              width="501"
              height="129"
              loading="lazy"
            >
          </li>
          <li>Save.</li>
          <li>Install <a href="https://chrome.google.com/webstore/detail/stylus/clngdbkpkpeebahjckkjfobafhncgmne">Stylus for Chrome</a>, or <a href="https://addons.mozilla.org/en-US/firefox/addon/styl-us/">Stylus for Firefox</a>.</li>
          <li>Open this link in a new tab: "<a href="https://raw.githubusercontent.com/TOPdesk/operator-recoloring/master/public/topdesk-operator-recoloring.user.css">Install directly with Stylus</a>" or use the link badge depicted at the top of this page.</li>
          <li>Go to the newly opened tab and click the <strong>Install style</strong> button there.</li>
        </ol>
        The custom style is now shown whenever you visit the TOPdesk operator’s section.
      </p>
      <p>
        To quickly enable or disable the style:
        <ol>
          <li>In the browser menu bar, click on the Stylus plugin icon.</li>
          <li>Tick or untick the style <strong>Recoloring TOPdesk operator section</strong>.</li>
        </ol>
      </p>
    </section>
    <section aria-labelledby="configure-the-colours">
      <h2 id="configure-the-colours">Configure the colours</h2>
      <p>
        You can finetune the style to suit your specific needs.
        <ol>
          <li>In the browser menu bar, click the plugin icon.</li>
          <li>
            Click the gear icon in the "Recoloring TOPdesk operator section" entry. The style configuration opens.
            <img
              class="use-step"
              src="static/stylus popup.png"
              alt="The stylus popup with the plugin icon and gear icon positions highlighted"
              width="421"
              height="163"
              loading="lazy"
            >
          </li>
          <li>Choose your palette. The overview at the bottom of this page shows you where each colour type is used.</li>
          <li>Click <strong>Save</strong>. With the option <strong>On Change</strong> ticked, your changes are saved and applied straight away.</li>
          <li>
            The different ‘filter’ settings determine the colours of icons. To change icon colours, you need to calculate the filter settings based on the hex code of the colour.
            <ol>
              <li>Click on a colour setting. In the colour picker that opens, click on the double arrow until you see the hex code of the colour. Copy the hex code (the ‘#’ is optional).</li>
              <li>Enter the hex code in the corresponding calculation field below on this page.</li>
              <li>The filter values will be calculated. Copy the line with filter settings (brightness, saturate etc.).</li>
              <li>Paste the filter settings into the style configuration filter field.</li>
            </ol>
          </li>
        </ol>
      </p>
      <img
        class="use-step"
        src="static/recoloring configuration.png"
        alt="The stylus configuration popup to set the colors for TOPdesk" 
        width="460"
        height="730"
        loading="lazy"
      >
    </section>
  </main>
  <form aria-labelledby="calculate-filter-values">
    <h2 id="calculate-filter-values">Calculate filter values</h2>
    <span class="scr-only" id="status" role="status" aria-live="polite"></span>
    
    <div class="inputs">
      <div class="input-container">
        <label for="background">Background color</label>
        <input id="background" pattern="#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})" aria-describedby="background-msg" maxlength=7 minlength=3 size=7>
        <span id="background-msg" class="message"></span>
      </div>
      
      <div class="input-container">
        <label for="on-background">On background text color</label>
        <input id="on-background" pattern="#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})" aria-describedby="on-background-msg" maxlength=7 minlength=3 size=7>
        <span id="on-background-msg" class="message"></span>
      </div>

      <div class="input-container">
        <label for="surface">Surface color</label>
        <input id="surface" pattern="#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})" aria-describedby="surface-msg" maxlength=7 minlength=3 size=7>
        <span id="surface-msg" class="message"></span>
      </div>
      
      <div class="input-container">
        <label for="on-surface">On surface text color</label>
        <input id="on-surface" pattern="#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})" aria-describedby="on-surface-msg" maxlength=7 minlength=3 size=7>
        <span id="on-surface-msg" class="message"></span>
      </div>

      <div class="input-container">
        <label for="primary">Primary color</label>
        <input id="primary" pattern="#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})" aria-describedby="primary-msg" maxlength=7 minlength=3 size=7>
        <span id="primary-msg" class="message"></span>
      </div>
      
      <div class="input-container">
        <label for="primary-muted">Primary alternative color</label>
        <input id="primary-muted" pattern="#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})" aria-describedby="primary-muted-msg" maxlength=7 minlength=3 size=7>
        <span id="primary-muted-msg" class="message"></span>
      </div>
      
      <div class="input-container">
        <label for="on-primary">On primary text color</label>
        <input id="on-primary" pattern="#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})" aria-describedby="on-primary-msg" maxlength=7 minlength=3 size=7>
        <span id="on-primary-msg" class="message"></span>
      </div>

      <div class="input-container">
        <label for="error">Error color</label>
        <input id="error" pattern="#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})" aria-describedby="error-msg" maxlength=7 minlength=3 size=7>
        <span id="error-msg" class="message"></span>
      </div>
      
      <div class="input-container">
        <label for="on-error">On error text color</label>
        <input id="on-error" pattern="#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})" aria-describedby="on-error-msg" maxlength=7 minlength=3 size=7>
        <span id="on-error-msg" class="message"></span>
      </div>

      <div class="input-container">
        <label for="disabled">Disabled color</label>
        <input id="disabled" pattern="#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})" aria-describedby="disabled-msg" maxlength=7 minlength=3 size=7>
        <span id="disabled-msg" class="message"></span>
      </div>
      
      <div class="input-container">
        <label for="on-disabled">On disabled text color</label>
        <input id="on-disabled" pattern="#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})" aria-describedby="on-disabled-msg" maxlength=7 minlength=3 size=7>
        <span id="on-disabled-msg" class="message" aria-live="polite"></span>
      </div>

      <div class="input-container">
        <label for="selection">Selection color</label>
        <input id="selection" pattern="#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})" aria-describedby="selection-msg" maxlength=7 minlength=3 size=7>
        <span id="selection-msg" class="message" aria-live="polite"></span>
      </div>
        
      <div class="input-container">
        <label for="on-selection">On selection text color</label>
        <input id="on-selection" pattern="#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})" aria-describedby="on-selection-msg" maxlength=7 minlength=3 size=7>
        <span id="on-selection-msg" class="message" aria-live="polite"></span>
      </div>
    </div>
    
    <section aria-labelledby="colour-overview">
      <h3 id="colour-overview">Colour overview</h3>
      <div id="palette-sample">
        <div id="background-sample">Background</div>
        <div id="surface-sample">Surface</div>
        <div id="primary-sample">Primary</div>
        <div id="error-sample">Error</div>
        <div id="disabled-sample" aria-disabled="true">Disabled</div>
        <div id="selection-sample">Selection</div>
      </div>
    </section>
  </form>
  
  <section aria-labelledby="notes">
    <h2 id="notes">Notes</h2>
    <ul>
      <li>
        <strong>TOPdesk version 10.05.003 or earlier</strong> - If you are using a TOPdesk version lower than 10.05.004, the <strong>Support custom colours</strong> setting is not yet available.
        Instead, you can navigate to [your topdesk domain]/<wbr>tas/<wbr>secure/<wbr>mango/<wbr>arsenictestmodeswitchon for the same effect.
        However, this will have to be done for every new session.
      </li>
      <li>
        This style for TOPdesk+Stylus is not a core feature of TOPdesk, and will not be tested or updated for each new TOPdesk version.
        Depending on the version or functionalities of TOPdesk used, your mileage may vary.
        If you have questions or something else you would like to share, feel free to <a href="https://github.com/TOPdesk/operator-recoloring/issues">create an issue</a>, or even a merge request, and we will see if it can be addressed.
      </li>
      <li>The algorithm for calculating the filter values is copied and adapted from the <a href="https://codepen.io/sosuke/pen/Pjoqqp">filter calculation codepen</a> by Barett Sonntag.</li>
    </ul>
  </section>
</body>
</html>